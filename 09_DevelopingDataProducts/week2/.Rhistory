preProc <- preProcess(log10(training[,-58]+1),method="pca",pcaComp=2)
trainPC <- predict(preProc,log10(training[,-58]+1))
modelFit <- train(training$type ~ .,method="glm",data=trainPC)
modelFit <- train(training$type ~ .,method="glm",data=trainPC)
testPC <- predict(preProc,log10(testing[,-58]+1))
confusionMatrix(testing$type,predict(modelFit,testPC))
confusionMatrix(testing$type,predict(modelFit,testPC))
library(AppliedPredictiveModeling)
data(concrete)
library(caret)
set.seed(975)
inTrain = createDataPartition(mixtures$CompressiveStrength, p = 3/4)[[1]]
training = mixtures[ inTrain,]
testing = mixtures[-inTrain,]
cutWage <- cut2(training$wage,g=3)
table(cutWage)
qplot(CompressiveStrength,colour=education,data=training,geom="density")
qplot(CompressiveStrength,colour=training ,data=training,geom="density")
qplot(CompressiveStrength ,data=training,geom="density")
q()
qplot(CompressiveStrength,colour=training ,data=training,geom="density")
data(concrete)
training = mixtures[ inTrain,]
data(concrete)
data(1 2)
a=(1)
a=(1,2)
a=(1;2)
a=(1,2)
a=(1;2)
a=(1,2)
a=(1;2)
a=(1;2)
a=[1,2]
a=[1;2]
data(concrete)
training = mixtures[ inTrain,]
qplot(CompressiveStrength,colour=training ,data=training,geom="density")
inTrain <- createDataPartition(y=Wage$wage,
q()
q()
q
.Internal(quit(save, status, runLast))
quit(save, status, runLast)
quit(save)
yes
quit(save,yes)
help quit
q()
View(andy)
dir()
getwd()
dir()
getwd()
cd c:/Users/lenovo/desktop
cd (c:/Users/lenovo/desktop)
getwd()
dir()
getwd()
setwd("~/")
getwd(C:/Users/lenovo)
setwd("~/")
getwd(C:/Users/lenovo)
setwd("~/C:\Users\lenovo\Desktop\Rlearning")
setwd("C:\Users\lenovo\Desktop\Rlearning")
setwd("~/")
getwd(C:/Users/lenovo)
getwd(C:/Users/lenovo)
getwd()
setwd("~/")
C:\Users\lenovo\Desktop\Rlearning
x<-list(foo=1:4,bar=0.6)
x$bar
save.image("C:/Users/lenovo/Desktop/a.RData")
x$foo
x[[1]][[3]]
x[[1]][[4]]
x[[2]][[1]]
x[[2]][[1]]
airquality(1:6,)
airquality[1:6,]
x<-airquality[1:6,]
View(x)
View(x)
View(x)
good=complete.cases(x)
x[good,][1:6,]
good
x
airquality[good,][1:6,]
x[good,][1:6,]
x
View(x)
View(x)
x[good,][1:6,]
View(airquality)
View(airquality)
dir()
y<-data.frames(a=1,b="a")
y<-data.frame(a=1,b="a")
dput(y)
dput(y,file="y.R")
new.y=dget("y.R")
new.y
y<-"foo"
x<-data.frame(a=1,b="a")
dump(c("x","y"),file="data.R")
rm(x,y)
source("data.R")
x
y
x<-factor(c("yes","no","yes","no","no"))
x
table(x)
unclass(x)
y
}
y
y
y[1]
clear
y
for i=1:10{
if (a<3){
y[i]<-1
}else{
y[i]<-0
}
}
for i=1:10{
if (a<3){
y[i]<-1
}else{
y[i]<-0
}
}
a++
clear
a=0
for i=1:10{
if (a<3){
y[i]<-1
}else{
y[i]<-0
}
a++
}
a=0
for i=1:10{
if (a<3){
y[i]<-1
}else{
y[i]<-0
}
a<-a+1
}
x<-c("a","b","c","d","e")
fori=1:5{
print(x[i])
}
a=0
for i=1 in 10{
if (a<3){
y[i]<-1
}else{
y[i]<-0
}
a<-a+1
}
x<-c("a","b","c","d","e")
fori=1 in 5{
print(x[i])
}
a=0
for i in 1:10{
if (a<3){
y[i]<-1
}else{
y[i]<-0
}
a<-a+1
}
x<-c("a","b","c","d","e")
fori in 1:5{
print(x[i])
}
x<-c("a","b","c","d","e")
for i in 1:5{
print(x[i])
}
x<-c("a","b","c","d","e")
for (i in 1:5){
print(x[i])
}
a=0
for (i in 1:10){
if (a<3){
y[i]<-1
}else{
y[i]<-0
}
print(y[i])
a<-a+1
}
x<-matrix(1:6,2,3)
for (i in seq_len(nrow(x)))
for (j in seq_len(ncol(x)))
print(x[i,j])
end
end
x<-matrix(1:6,2,3)
for (i in seq_len(nrow(x))){
for (j in seq_len(ncol(x))){
print(x[i,j])
}
}
x
x<-rbinom(1,1.4,.5)
x<-rbinom(1,1.4,0.5)
rbinom
z<-3
while(z<=5 && z>=2){
print(z)
if coin = rbinom(1,1,.5){
z<-z+1
}else{
z<-z-1
}
}
z<-3
while(z<=5 && z>=2){
print(z)
coin = rbinom(1,1,.5)
if coin==1{
z<-z+1
}else{
z<-z-1
}
}
z<-3
while(z<=5 && z>=2){
print(z)
coin = rbinom(1,1,.5)
if (coin==1){
z<-z+1
}else{
z<-z-1
}
}
add2(1,2)
add2(1,2)
add2(1,2)
add2 <- function(x,y){
x+y
}
add2(2)
add2(2,1)
source('C:/Users/lenovo/Desktop/add2.R')
source('C:/Users/lenovo/Desktop/add2.R')
add2(1,2)
source('~/.active-rstudio-document')
x=c(10,20,3,9)
above(x,4)
above(x,10)
source('~/.active-rstudio-document')
columnmean(airquality)
columnmean(airquality)
columnmean(airquality)
source('C:/Users/lenovo/Desktop/add2.R')
columnmean(airquality)
source('C:/Users/lenovo/Desktop/add2.R')
columnmean(airquality)
mydata
mydata=rnorm(100)
source('~/.active-rstudio-document')
f(2,3)
args(paste)
args(cat)
?rnorm
a<-available.packages()
install.packages(KernSmooth)
install.packages("KernSmooth")
library(KernSmooth)
git commit
library(knitr)
source('~/.active-rstudio-document', echo=TRUE)
install.packages("C:/Users/lenovo/Desktop/pack/knitr_1.9.zip", repos = NULL)
install.packages("C:/Users/lenovo/Desktop/pack/knitrBootstrap_0.9.0.zip", repos = NULL)
rm(lis=ls)
rm(list=ls)
rm(list=ls())
install.packages("C:/Users/lenovo/Desktop/pack/markdown_0.7.4.zip", repos = NULL)
install.packages("C:/Users/lenovo/Desktop/pack/knitr_1.9.zip", repos = NULL)
install.packages("C:/Users/lenovo/Desktop/pack/knitrBootstrap_0.9.0.zip", repos = NULL)
install.packages("C:/Users/lenovo/Desktop/pack/rmarkdown_0.5.1.zip", repos = NULL)
library(caret);library(kernlab);data(spam)
inTrain<-createDataPartition(y=spam$type,
p=0.75,list=F)
training<-spam[inTrain,]
testing<-spam[-inTrain,]
dim(training)
par(mfrow=c(1,2))
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
library(caret);data(faithful);set.seed(333)
inTrain<-createDataPartition(y=faithful$waiting,
p=0.5,list=F)
trainFaith<-faithful[inTrain,];testFaith<-faithful[-inTrain]
head(trainFaith)
lm1<-lm(eruptions~waiting,data=trainFaith)
summary(lm1)
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="waiting",ylab="Duration")
lines(trainFaith$waiting,lm1$fitted,lwd=3)
coef(lm1)[1]+coef(lm1)[2]*80
###another form of prediction
newdata<-data.frame(waiting=80)
predict(lm1,newdata)
##plot prediction
par(mfrow=c(1,2))
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
lines(trainFaith$waiting,predict(lm1),lwd=3)
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
lines(trainFaith$waiting,predict(lm1),lwd=3)
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
library(caret);data(faithful);set.seed(333)
par(mfrow=c(1,2))
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
lines(trainFaith$waiting,predict(lm1),lwd=3)
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
par(mfrow=c(1,2))
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
lines(trainFaith$waiting,predict(lm1),lwd=3)
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
coef(lm1)[1]+coef(lm1)[2]*80
###another form of prediction
newdata<-data.frame(waiting=80)
predict(lm1,newdata)
##plot prediction
par(mfrow=c(1,2))
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
lines(trainFaith$waiting,predict(lm1),lwd=3)
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
testPC<-predict(preProc,log10(testing[,-58]+1))
modelFit<-train(training$type~.,method="glm",data=trainPC)
preProc<-preProcess(log10(training[,-58]+1),method="pca",pcaComp=2)
trainPC<-predict(preProc,log10(training[,-58]+1))
modelFit<-train(training$type~.,method="glm",data=trainPC)
testPC<-predict(preProc,log10(testing[,-58]+1))
confusionMatrix(testing$type,predict(modelFit,testPC))
##alternative
modelFit<-train(training$type~.,method="glm",preProcess="pca",data=training)
library(caret);data(faithful);set.seed(333)
inTrain<-createDataPartition(y=faithful$waiting,
p=0.5,list=F)
trainFaith<-faithful[inTrain,];testFaith<-faithful[-inTrain]
head(trainFaith)
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="waiting",ylab="Duration")
lm1<-lm(eruptions~waiting,data=trainFaith)
summary(lm1)
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="waiting",ylab="Duration")
lines(trainFaith$waiting,lm1$fitted,lwd=3)
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="waiting",ylab="Duration")
lines(trainFaith$waiting,lm1$fitted,lwd=3)
coef(lm1)[1]+coef(lm1)[2]*80
###another form of prediction
newdata<-data.frame(waiting=80)
predict(lm1,newdata)
##plot prediction
par(mfrow=c(1,2))
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
lines(trainFaith$waiting,predict(lm1),lwd=3)
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
sqrt(sum((lm1$fitted-trainFaith$eruptions)^2))
sqrt(sum((lm1$fitted-trainFaith$eruptions)^2))
sqrt(sum((predict(lm1,newdata=testFaith)-testFaith$eruption)^2))
lm1<-lm(eruptions~waiting,data=trainFaith)
summary(lm1)
sqrt(sum((predict(lm1,newdata=testFaith)-testFaith$eruption)^2))
sqrt(sum((predict(lm1,newdata=testFaith)-testFaith$eruptions)^2))
source('C:/Users/lenovo/Desktop/Rlearning/practical machine learning/week2/practical4.R', echo=TRUE)
###############regression models#############
library(caret);data(faithful);set.seed(333)
inTrain<-createDataPartition(y=faithful$waiting,
p=0.5,list=F)
trainFaith<-faithful[inTrain,];testFaith<-faithful[-inTrain]
head(trainFaith)
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="waiting",ylab="Duration")
lm1<-lm(eruptions~waiting,data=trainFaith)
summary(lm1)
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="waiting",ylab="Duration")
lines(trainFaith$waiting,lm1$fitted,lwd=3)
coef(lm1)[1]+coef(lm1)[2]*80
###another form of prediction
newdata<-data.frame(waiting=80)
predict(lm1,newdata)
##plot prediction
par(mfrow=c(1,2))
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
lines(trainFaith$waiting,predict(lm1),lwd=3)
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
lines(testFaith$waiting,predict(lm1,newdata=testFaith),lwd=3)
####get trainning set/test set errors
# Calculate RMSE on training
sqrt(sum((lm1$fitted-trainFaith$eruptions)^2))
# Calculate RMSE on test
sqrt(sum((predict(lm1,newdata=testFaith)-testFaith$eruptions)^2))
pred1 <- predict(lm1,newdata=testFaith,interval="prediction")
ord <- order(testFaith$waiting)
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue")
matlines(testFaith$waiting[ord],pred1[ord,],type="l",,col=c(1,2,2),lty = c(1,1,1), lwd=3)
testFaith$waiting
lm1$fitted
trainFaith$waiting
testFaith$waiting
testFaith$waiting
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="waiting",ylab="Duration")
testFaith
names(testFaith)
testFaith$waiting
library(caret);data(faithful);set.seed(333)
inTrain<-createDataPartition(y=faithful$waiting,
p=0.5,list=F)
trainFaith<-faithful[inTrain,];testFaith<-faithful[-inTrain,]
head(trainFaith)
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="waiting",ylab="Duration")
lm1<-lm(eruptions~waiting,data=trainFaith)
summary(lm1)
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="waiting",ylab="Duration")
lines(trainFaith$waiting,lm1$fitted,lwd=3)
coef(lm1)[1]+coef(lm1)[2]*80
###another form of prediction
newdata<-data.frame(waiting=80)
predict(lm1,newdata)
##plot prediction
par(mfrow=c(1,2))
plot(trainFaith$waiting,trainFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
lines(trainFaith$waiting,predict(lm1),lwd=3)
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue",xlab="Waiting",ylab="Duration")
lines(testFaith$waiting,predict(lm1,newdata=testFaith),lwd=3)
####get trainning set/test set errors
# Calculate RMSE on training
sqrt(sum((lm1$fitted-trainFaith$eruptions)^2))
# Calculate RMSE on test
sqrt(sum((predict(lm1,newdata=testFaith)-testFaith$eruptions)^2))
pred1 <- predict(lm1,newdata=testFaith,interval="prediction")
ord <- order(testFaith$waiting)
plot(testFaith$waiting,testFaith$eruptions,pch=19,col="blue")
matlines(testFaith$waiting[ord],pred1[ord,],type="l",,col=c(1,2,2),lty = c(1,1,1), lwd=3)
modFit<-train(eruption~waiting,data=trainFaith,method="lm")
summary(modFit$finalModel)
modFit<-train(eruptions~waiting,data=trainFaith,method="lm")
summary(modFit$finalModel)
###Feature Plot
featurePlot(x=training[,c("age","education","jobclass")],
y = training$wage,
plot="pairs")
library(ISLR); library(ggplot2); library(caret);
data(Wage); Wage <- subset(Wage,select=-c(logwage))
summary(Wage)
inTrain <- createDataPartition(y=Wage$wage,
p=0.7, list=FALSE)
training <- Wage[inTrain,]; testing <- Wage[-inTrain,]
dim(training); dim(testing)
###Feature Plot
featurePlot(x=training[,c("age","education","jobclass")],
y = training$wage,
plot="pairs")
qplot(age,wage,data=training)
qplot(age,wage,colour=jobclass,data=training)
qplot(age,wage,colour=education,data=training)
modFit<- train(wage ~ age + jobclass + education,
method = "lm",data=training)
finMod <- modFit$finalModel
print(modFit)
plot(finMod,1,pch=19,cex=0.5,col="#00000010")
qplot(finMod$fitted,finMod$residuals,colour=race,data=training)
plot(finMod$residuals,pch=19)
modFit<- train(wage ~ age + jobclass + education,
method = "lm",data=training)
finMod <- modFit$finalModel
print(modFit)
plot(finMod,1,pch=19,cex=0.5,col="#00000010")
setwd("C:\\Users\\lenovo\\Desktop\\Rlearning\\data product\\week2")
install.packages("devtools")
install.packages("devtools")
install_github('slidify','ramnathv')
install.packages("devtools")
install_github('slidify','ramnathv')
install_github('slidifyLibraries','ramnathv')
library(slidify)
install.packages("C:/Users/lenovo/Desktop/pack/devtools_1.7.0.zip", repos = NULL)
library(devtools)
install_github('slidify','ramnathv')
install_github('slidifyLibraries','ramnathv')
library(slidify)
library(slidify)
install_github('slidify','ramnathv')
ramnathv/slidify
is.na(en)
exists("en")
en<-1
exists("en")
is.na(en)
install_github('slidify','ramnathv')
is.na(en)
exists("en")
install_github('slidify','ramnathv')
install.packages("devtools")
install.packages("devtools")
install_github('slidify','ramnathv')
library(slidify)
library(devtools)
